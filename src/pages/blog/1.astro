---
import BaseLayout from '../../layouts/BaseLayout.astro';
import JsonLd from '../../components/seo/JsonLd.astro';

// Simulated blog post data - in a real app this would come from a CMS or database
const post = {
  id: 1,
  title: "Nueva Colección de Uniformes Escolares 2025",
  excerpt: "Descubre nuestros nuevos diseños de uniformes escolares con materiales de alta calidad y acabados perfectos para el año escolar 2025.",
  content: `
    <p>Con la llegada del nuevo año escolar, en <strong>Generación Urbana</strong> hemos preparado una nueva colección de uniformes que combina calidad, comodidad y durabilidad. Utilizamos telas premium que resisten el uso diario y mantienen su color y forma después de múltiples lavados.</p>

    <h2>Características Destacadas de Nuestra Nueva Colección</h2>

    <h3>🧵 Materiales de Primera Calidad</h3>
    <p>Seleccionamos cuidadosamente cada tela, priorizando aquellas que ofrecen:</p>
    <ul>
      <li>Mayor resistencia al desgaste</li>
      <li>Facilidad de lavado y mantenimiento</li>
      <li>Comodidad durante todo el día</li>
      <li>Colores que no se destiñen</li>
    </ul>

    <h3>✂️ Diseños Ergonómicos</h3>
    <p>Nuestros uniformes están diseñados pensando en la comodidad de los estudiantes:</p>
    <ul>
      <li>Cortes que permiten libertad de movimiento</li>
      <li>Refuerzos en zonas de mayor desgaste</li>
      <li>Acabados profesionales en costuras y bordes</li>
    </ul>

    <h3>🎨 Personalización Completa</h3>
    <p>Cada colegio tiene su identidad única, por eso ofrecemos:</p>
    <ul>
      <li>Bordados del logo institucional</li>
      <li>Nombres y cursos personalizados</li>
      <li>Colores específicos según las necesidades</li>
      <li>Diferentes tallas para todas las edades</li>
    </ul>

    <h2>Proceso de Pedido Simplificado</h2>

    <p>Hemos mejorado nuestro proceso para hacer más fácil tu experiencia:</p>

    <ol>
      <li><strong>Cotización Gratuita:</strong> Contáctanos con los detalles de tu pedido</li>
      <li><strong>Diseño y Aprobación:</strong> Te mostramos el diseño antes de producir</li>
      <li><strong>Producción:</strong> Confeccionamos con los más altos estándares</li>
      <li><strong>Entrega:</strong> Cumplimos con los plazos acordados</li>
    </ol>

    <h2>Promoción Especial de Lanzamiento</h2>

    <p>Para celebrar el lanzamiento de nuestra nueva colección, ofrecemos:</p>

    <div style="background: linear-gradient(135deg, #0ea5e9, #8b5cf6); padding: 2rem; border-radius: 1rem; color: white; margin: 2rem 0;">
      <h3 style="color: white; margin-bottom: 1rem;">🎉 Oferta Limitada</h3>
      <ul style="color: white;">
        <li>15% de descuento en pedidos de más de 20 uniformes</li>
        <li>Bordado del logo incluido sin costo adicional</li>
        <li>Entrega gratuita en San Bernardo y comunas cercanas</li>
        <li>Garantía de satisfacción del 100%</li>
      </ul>
      <p style="color: white; margin-top: 1rem; font-weight: bold;">*Válido hasta el 31 de enero de 2025</p>
    </div>

    <h2>Testimonios de Colegios</h2>

    <blockquote style="border-left: 4px solid #0ea5e9; padding-left: 1.5rem; margin: 2rem 0; font-style: italic; color: #4b5563;">
      "Los uniformes de Generación Urbana han superado nuestras expectativas. La calidad es excepcional y los estudiantes se sienten cómodos durante toda la jornada escolar." 
      <br><br>
      <strong>- María González, Directora Colegio San José</strong>
    </blockquote>

    <h2>¿Listo para Renovar los Uniformes de tu Colegio?</h2>

    <p>No esperes más para ofrecer a tus estudiantes uniformes de la más alta calidad. Contáctanos hoy mismo para:</p>

    <ul>
      <li>Recibir una cotización personalizada</li>
      <li>Conocer todas las opciones disponibles</li>
      <li>Programar una reunión para revisar diseños</li>
      <li>Aprovechar nuestra promoción especial</li>
    </ul>
  `,
  category: "Productos",
  date: "2024-12-15",
  author: "Equipo Generación Urbana",
  image: "/images/blog/uniformes-2025.jpg",
  readTime: "5 min",
  tags: ["uniformes", "escolares", "calidad", "2025", "promoción"]
};

const articleSchema = {
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": post.title,
  "description": post.excerpt,
  "image": `https://generacionurbana.cl${post.image}`,
  "datePublished": post.date,
  "dateModified": post.date,
  "author": {
    "@type": "Organization",
    "name": post.author
  },
  "publisher": {
    "@type": "Organization",
    "name": "Generación Urbana",
    "logo": {
      "@type": "ImageObject",
      "url": "https://generacionurbana.cl/images/logos/logo.svg"
    }
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": `https://generacionurbana.cl/blog/${post.id}`
  },
  "articleSection": post.category,
  "keywords": post.tags.join(", ")
};

const breadcrumbSchema = {
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Inicio",
      "item": "https://generacionurbana.cl"
    },
    {
      "@type": "ListItem", 
      "position": 2,
      "name": "Blog",
      "item": "https://generacionurbana.cl/blog"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": post.title,
      "item": `https://generacionurbana.cl/blog/${post.id}`
    }
  ]
};
---

<BaseLayout
  title={`${post.title} | Blog Generación Urbana`}
  description={post.excerpt}
  keywords={post.tags.join(", ") + ", blog generacion urbana, noticias costura san bernardo"}
  type="article"
  publishedTime={post.date}
  modifiedTime={post.date}
  author={post.author}
>
  <JsonLd schema={articleSchema} />
  <JsonLd schema={breadcrumbSchema} />

  <!-- Breadcrumb Navigation Mejorado -->
  <nav class="relative bg-gradient-to-r from-gray-50 to-gray-100 py-6 mt-20 overflow-hidden">
    <!-- Background Effects -->
    <div class="absolute inset-0 bg-grid-subtle opacity-30"></div>
    <div class="absolute top-0 right-0 w-32 h-32 bg-primary-200/20 rounded-full blur-3xl"></div>
    
    <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <ol class="flex items-center space-x-3 text-sm">
        <li class="group">
          <a href="/" class="flex items-center text-gray-500 hover:text-primary-600 transition-all duration-300 transform hover:scale-105">
            <svg class="w-4 h-4 mr-2 group-hover:animate-bounce" fill="currentColor" viewBox="0 0 20 20">
              <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"></path>
            </svg>
            Inicio
          </a>
        </li>
        <li class="flex items-center">
          <svg class="w-4 h-4 text-gray-400 mx-2" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
          </svg>
          <a href="/blog" class="text-gray-500 hover:text-primary-600 transition-colors duration-300 hover:underline">Blog</a>
        </li>
        <li class="flex items-center">
          <svg class="w-4 h-4 text-gray-400 mx-2" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
          </svg>
          <span class="text-gray-900 font-medium truncate max-w-xs md:max-w-md">
            {post.title}
          </span>
        </li>
      </ol>
    </div>
  </nav>

  <!-- Article Header Avanzado -->
  <article class="relative bg-gradient-to-br from-white via-gray-50 to-primary-50/30 overflow-hidden">
    <!-- Progress Bar for Reading -->
    <div class="fixed top-0 left-0 w-full h-1 bg-gray-200 z-50">
      <div id="reading-progress" class="h-full bg-gradient-to-r from-primary-500 to-secondary-500 transition-all duration-300" style="width: 0%"></div>
    </div>

    <!-- Floating Action Buttons -->
    <div class="fixed right-6 top-1/2 transform -translate-y-1/2 z-40 space-y-4">
      <!-- Share Button -->
      <button class="group relative w-12 h-12 bg-white shadow-lg rounded-full flex items-center justify-center hover:shadow-2xl transition-all duration-300 transform hover:scale-110 hover:bg-primary-50">
        <svg class="w-5 h-5 text-gray-600 group-hover:text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"></path>
        </svg>
        <div class="absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full animate-ping opacity-75"></div>
      </button>
      
      <!-- Print Button -->
      <button class="group w-12 h-12 bg-white shadow-lg rounded-full flex items-center justify-center hover:shadow-2xl transition-all duration-300 transform hover:scale-110 hover:bg-secondary-50">
        <svg class="w-5 h-5 text-gray-600 group-hover:text-secondary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"></path>
        </svg>
      </button>
      
      <!-- Font Size -->
      <button class="group w-12 h-12 bg-white shadow-lg rounded-full flex items-center justify-center hover:shadow-2xl transition-all duration-300 transform hover:scale-110 hover:bg-purple-50" id="font-size-btn">
        <svg class="w-5 h-5 text-gray-600 group-hover:text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7"></path>
        </svg>
      </button>
    </div>

    <div class="relative max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
      <!-- Category and Meta Info Enhanced -->
      <div class="flex flex-wrap items-center justify-between mb-8 gap-4">
        <div class="flex items-center space-x-6">
          <div class="relative">
            <span class="px-4 py-2 bg-gradient-to-r from-primary-500 to-primary-600 text-white text-sm font-bold rounded-full shadow-lg transform hover:scale-105 transition-all duration-300">
              {post.category}
            </span>
            <div class="absolute -top-1 -right-1 w-3 h-3 bg-secondary-400 rounded-full animate-ping"></div>
          </div>
          
          <div class="flex items-center text-gray-600 text-sm bg-white/70 backdrop-blur-sm rounded-full px-4 py-2 shadow-md">
            <svg class="w-4 h-4 mr-2 text-primary-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
            {post.readTime} de lectura
          </div>
          
          <div class="flex items-center text-gray-600 text-sm bg-white/70 backdrop-blur-sm rounded-full px-4 py-2 shadow-md">
            <svg class="w-4 h-4 mr-2 text-secondary-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
            </svg>
            <span class="counter" data-target="487">0</span> vistas
          </div>
        </div>
        
        <time class="text-gray-500 text-sm bg-white/70 backdrop-blur-sm rounded-full px-4 py-2 shadow-md" datetime={post.date}>
          {new Date(post.date).toLocaleDateString('es-CL', { 
            year: 'numeric', 
            month: 'long', 
            day: 'numeric' 
          })}
        </time>
      </div>

      <!-- Title with Animation -->
      <div class="relative mb-8">
        <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 leading-tight mb-6 animate-fade-in-up">
          {post.title}
        </h1>
        <!-- Decorative Elements -->
        <div class="absolute -top-4 -left-4 w-12 h-12 border-t-4 border-l-4 border-primary-400/30 animate-pulse"></div>
        <div class="absolute -bottom-4 -right-4 w-12 h-12 border-b-4 border-r-4 border-secondary-400/30 animate-pulse animation-delay-1000"></div>
      </div>

      <!-- Enhanced Excerpt -->
      <div class="relative mb-12">
        <p class="text-xl md:text-2xl text-gray-600 leading-relaxed animate-fade-in-up animation-delay-500">
          {post.excerpt}
        </p>
        <div class="absolute -bottom-2 left-0 h-1 bg-gradient-to-r from-primary-500 to-secondary-500 animate-expand-width rounded-full"></div>
      </div>

      <!-- Enhanced Featured Image -->
      <div class="relative mb-16 group">
        <div class="absolute inset-0 bg-gradient-to-br from-primary-500 to-secondary-500 rounded-3xl transform rotate-1 group-hover:rotate-2 transition-transform duration-500 opacity-20"></div>
        
        <div class="relative aspect-w-16 aspect-h-9 bg-gradient-to-br from-primary-100 to-secondary-100 rounded-3xl overflow-hidden shadow-2xl group-hover:shadow-3xl transition-all duration-700">
          <!-- Background Effects -->
          <div class="absolute inset-0">
            <div class="absolute top-8 left-8 w-24 h-24 bg-white/20 rounded-full animate-pulse"></div>
            <div class="absolute bottom-8 right-8 w-16 h-16 bg-white/10 rounded-full animate-bounce"></div>
            <div class="absolute top-1/2 left-1/2 w-32 h-32 bg-white/5 rounded-full transform -translate-x-1/2 -translate-y-1/2 animate-spin-slow"></div>
          </div>
          
          <div class="relative flex items-center justify-center p-16 z-10">
            <div class="text-center">
              <div class="relative inline-block">
                <div class="w-32 h-32 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-3xl flex items-center justify-center mx-auto mb-8 transform group-hover:scale-110 group-hover:rotate-12 transition-all duration-700 shadow-2xl">
                  <span class="text-white text-5xl">🎓</span>
                </div>
                
                <!-- Floating Particles -->
                <div class="absolute -top-4 -left-4 w-6 h-6 bg-yellow-400 rounded-full animate-float opacity-80"></div>
                <div class="absolute -top-2 -right-6 w-4 h-4 bg-pink-400 rounded-full animate-float animation-delay-1000 opacity-70"></div>
                <div class="absolute -bottom-6 -left-2 w-5 h-5 bg-green-400 rounded-full animate-float animation-delay-2000 opacity-60"></div>
                <div class="absolute -bottom-4 -right-4 w-3 h-3 bg-purple-400 rounded-full animate-float animation-delay-3000 opacity-90"></div>
              </div>
              
              <p class="text-gray-600 text-lg font-medium bg-white/90 backdrop-blur-sm rounded-2xl px-6 py-3 inline-block shadow-lg">
                Imagen destacada: {post.image}
              </p>
            </div>
          </div>
          
          <!-- Gradient Overlay -->
          <div class="absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-black/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
        </div>
      </div>

      <!-- Enhanced Article Content -->
      <div class="relative">
        <!-- Reading Time Estimate -->
        <div class="flex items-center justify-center mb-12">
          <div class="bg-white/80 backdrop-blur-lg rounded-full px-6 py-3 shadow-lg border border-gray-200">
            <div class="flex items-center text-gray-600 text-sm">
              <div class="w-8 h-8 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-full flex items-center justify-center mr-3">
                <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                </svg>
              </div>
              <span>Tiempo estimado de lectura: <strong>{post.readTime}</strong></span>
            </div>
          </div>
        </div>

        <div class="prose prose-lg prose-gray max-w-none article-content" id="article-content">
          <div set:html={post.content}></div>
        </div>
      </div>

      <!-- Enhanced Tags Section -->
      <div class="mt-16 pt-8 border-t border-gray-200 relative">
        <div class="absolute -top-4 left-1/2 transform -translate-x-1/2 w-8 h-8 bg-white border-4 border-gray-200 rounded-full flex items-center justify-center">
          <div class="w-2 h-2 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-full animate-pulse"></div>
        </div>
        
        <h3 class="text-xl font-bold text-gray-900 mb-6 text-center">
          Etiquetas del Artículo
        </h3>
        <div class="flex flex-wrap justify-center gap-3">
          {post.tags.map((tag, index) => (
            <span 
              class="group relative px-4 py-2 bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 text-sm font-medium rounded-full hover:from-primary-500 hover:to-secondary-500 hover:text-white transition-all duration-300 cursor-pointer transform hover:scale-105 hover:-translate-y-1 shadow-md hover:shadow-lg"
              style={`animation-delay: ${index * 0.1}s`}
            >
              <span class="relative z-10">#{tag}</span>
              <!-- Hover Effect -->
              <div class="absolute inset-0 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
              <!-- Shine Effect -->
              <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700"></div>
            </span>
          ))}
        </div>
      </div>

      <!-- Enhanced Author Section -->
      <div class="mt-16 relative">
        <div class="group relative bg-gradient-to-br from-primary-50 via-white to-secondary-50 rounded-3xl p-8 shadow-lg hover:shadow-2xl transition-all duration-500 border border-gray-100 hover:border-primary-200">
          <!-- Background Decoration -->
          <div class="absolute top-4 right-4 w-32 h-32 bg-gradient-to-br from-primary-100/50 to-secondary-100/50 rounded-full blur-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
          
          <div class="relative flex items-center space-x-6">
            <!-- Enhanced Author Avatar -->
            <div class="relative">
              <div class="w-20 h-20 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-2xl flex items-center justify-center shadow-lg transform group-hover:scale-110 group-hover:rotate-3 transition-all duration-500">
                <span class="text-white text-2xl font-bold">GU</span>
              </div>
              <!-- Status Indicator -->
              <div class="absolute -bottom-1 -right-1 w-6 h-6 bg-green-400 rounded-full border-3 border-white flex items-center justify-center">
                <svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                </svg>
              </div>
              <!-- Floating Elements -->
              <div class="absolute -top-2 -left-2 w-4 h-4 bg-yellow-400 rounded-full animate-ping opacity-60"></div>
            </div>
            
            <div class="flex-1">
              <h4 class="text-xl font-bold text-gray-900 mb-2 group-hover:text-primary-600 transition-colors">
                {post.author}
              </h4>
              <p class="text-gray-600 leading-relaxed mb-4">
                Expertos en confección y bordados con más de 15 años de experiencia en San Bernardo. 
                Especializados en uniformes escolares, corporativos y polerones de graduación.
              </p>
              
              <!-- Author Stats -->
              <div class="flex items-center space-x-6 text-sm text-gray-500">
                <div class="flex items-center">
                  <svg class="w-4 h-4 mr-2 text-primary-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                  </svg>
                  <span class="counter" data-target="52">0</span> artículos
                </div>
                <div class="flex items-center">
                  <svg class="w-4 h-4 mr-2 text-secondary-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                  </svg>
                  <span class="counter" data-target="1250">0</span> me gusta
                </div>
                <div class="flex items-center">
                  <svg class="w-4 h-4 mr-2 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                  </svg>
                  <span class="counter" data-target="15680">0</span> vistas
                </div>
              </div>
            </div>
            
            <!-- Follow Button -->
            <div class="hidden md:block">
              <button class="group/btn relative px-6 py-3 bg-gradient-to-r from-primary-600 to-secondary-600 text-white font-semibold rounded-xl overflow-hidden transition-all duration-300 transform hover:-translate-y-1 hover:shadow-lg">
                <div class="absolute inset-0 bg-gradient-to-r from-secondary-500 to-purple-500 transform scale-x-0 group-hover/btn:scale-x-100 transition-transform duration-500 origin-left"></div>
                <span class="relative z-10 flex items-center">
                  <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                  </svg>
                  Seguir
                </span>
              </button>
            </div>
          </div>
        </div>
      </div>
      </div>

      <!-- Social Share -->
      <div class="mt-12 text-center">
        <h3 class="text-lg font-semibold text-gray-900 mb-6">Comparte este artículo:</h3>
        <div class="flex justify-center space-x-4">
          <a 
            href={`https://wa.me/?text=${encodeURIComponent(post.title + ' - ' + 'https://generacionurbana.cl/blog/' + post.id)}`}
            class="inline-flex items-center px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors"
            target="_blank"
            rel="noopener noreferrer"
          >
            <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
              <path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981z"/>
              <path d="M11.893 8.94c.232 0 .784.043 1.029.494.219.404.628 1.555.628 1.555.078.149.125.272.063.359-.149.272-.272.312-.489.555-.217.243-.292.285-.475.553-.162.236-.394.501-.169.784.222.284.987 1.636 2.121 2.648 1.455 1.299 2.667 1.742 3.064 1.925.394.183.424.128.639-.072.215-.2.904-.99 1.145-1.338.241-.345.483-.287.814-.172.33.115 2.095 1.002 2.454 1.184.36.181.602.272.691.419.09.148.09 1.047-.212 1.754-.302.708-1.799 1.369-2.48 1.413-.681.043-1.734.006-2.395-.154-.661-.159-2.316-.905-3.934-2.149-1.618-1.244-2.747-2.811-2.938-3.033-.19-.222-.19-.484-.19-.727 0-.243 0-.878.359-1.555.359-.677.764-.948 1.031-.948z"/>
            </svg>
            WhatsApp
          </a>
          
          <a 
            href={`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent('https://generacionurbana.cl/blog/' + post.id)}`}
            class="inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"
            target="_blank"
            rel="noopener noreferrer"
          >
            <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
              <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
            </svg>
            Facebook
          </a>
        </div>
      </div>
    </div>
  </article>

  <!-- Related Articles & CTA -->
  <section class="py-16 bg-gray-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
        <!-- Related Articles -->
        <div>
          <h2 class="text-2xl font-bold text-gray-900 mb-8">Artículos Relacionados</h2>
          <div class="space-y-6">
            <article class="flex space-x-4 group cursor-pointer">
              <div class="w-20 h-20 bg-gradient-to-br from-primary-100 to-secondary-100 rounded-lg flex-shrink-0 flex items-center justify-center">
                <span class="text-2xl">🏢</span>
              </div>
              <div>
                <h3 class="font-semibold text-gray-900 group-hover:text-primary-600 transition-colors mb-1">
                  Promoción Especial en Bordados Empresariales
                </h3>
                <p class="text-gray-600 text-sm mb-2">
                  Durante todo enero, aprovecha un 20% de descuento en bordados corporativos.
                </p>
                <span class="text-xs text-gray-500">20 Dic 2024</span>
              </div>
            </article>
            
            <article class="flex space-x-4 group cursor-pointer">
              <div class="w-20 h-20 bg-gradient-to-br from-green-100 to-blue-100 rounded-lg flex-shrink-0 flex items-center justify-center">
                <span class="text-2xl">💡</span>
              </div>
              <div>
                <h3 class="font-semibold text-gray-900 group-hover:text-primary-600 transition-colors mb-1">
                  Tips para el Cuidado de tus Prendas Bordadas
                </h3>
                <p class="text-gray-600 text-sm mb-2">
                  Aprende cómo mantener tus bordados como nuevos con estos consejos profesionales.
                </p>
                <span class="text-xs text-gray-500">10 Dic 2024</span>
              </div>
            </article>
          </div>
          
          <a 
            href="/blog"
            class="inline-flex items-center mt-8 text-primary-600 font-semibold hover:text-primary-700 transition-colors"
          >
            Ver todos los artículos
            <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
            </svg>
          </a>
        </div>

        <!-- CTA -->
        <div class="bg-gradient-to-br from-primary-600 to-secondary-600 rounded-2xl p-8 text-white">
          <h2 class="text-2xl font-bold mb-4">¿Te Interesa Nuestro Servicio?</h2>
          <p class="text-white/90 mb-6 leading-relaxed">
            Si este artículo te resultó útil y estás buscando uniformes escolares de calidad, 
            ¡contáctanos! Te ayudamos a crear la solución perfecta para tu institución.
          </p>
          
          <div class="space-y-4">
            <a
              href="/contacto"
              class="block w-full text-center px-6 py-3 bg-white text-primary-600 font-semibold rounded-xl hover:bg-gray-50 transition-colors"
            >
              Solicitar Cotización
            </a>
            
            <a
              href="tel:+56912345678"
              class="block w-full text-center px-6 py-3 border-2 border-white text-white font-semibold rounded-xl hover:bg-white hover:text-primary-600 transition-colors"
            >
              📞 +56 9 1234 5678
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>

<style>
  .prose {
    color: #374151;
  }
  
  .prose h2 {
    color: #111827;
    font-weight: 700;
    font-size: 1.75rem;
    margin-top: 2rem;
    margin-bottom: 1rem;
  }
  
  .prose h3 {
    color: #1f2937;
    font-weight: 600;
    font-size: 1.375rem;
    margin-top: 1.5rem;
    margin-bottom: 0.75rem;
  }
  
  .prose p {
    margin-bottom: 1.25rem;
    line-height: 1.75;
  }
  
  .prose ul, .prose ol {
    margin-bottom: 1.25rem;
    padding-left: 1.5rem;
  }
  
  .prose li {
    margin-bottom: 0.5rem;
  }
  
  .prose blockquote {
    border-left: 4px solid #0ea5e9;
    padding-left: 1.5rem;
    margin: 2rem 0;
    font-style: italic;
    color: #4b5563;
  }
  
  .prose strong {
    color: #111827;
    font-weight: 600;
  }

  /* Advanced Animations */
  @keyframes fade-in-up {
    0% {
      opacity: 0;
      transform: translateY(30px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes expand-width {
    0% {
      width: 0%;
    }
    100% {
      width: 100%;
    }
  }

  @keyframes float {
    0%, 100% {
      transform: translateY(0px) rotate(0deg);
    }
    50% {
      transform: translateY(-15px) rotate(5deg);
    }
  }

  @keyframes spin-slow {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }

  .animate-fade-in-up {
    animation: fade-in-up 1s ease-out;
  }

  .animate-expand-width {
    animation: expand-width 2s ease-out forwards;
  }

  .animate-float {
    animation: float 6s ease-in-out infinite;
  }

  .animate-spin-slow {
    animation: spin-slow 8s linear infinite;
  }

  .animation-delay-500 {
    animation-delay: 0.5s;
  }

  .animation-delay-1000 {
    animation-delay: 1s;
  }

  .animation-delay-2000 {
    animation-delay: 2s;
  }

  .animation-delay-3000 {
    animation-delay: 3s;
  }

  .bg-grid-subtle {
    background-image: radial-gradient(circle at 2px 2px, rgba(0, 0, 0, 0.05) 1px, transparent 0);
    background-size: 30px 30px;
  }

  .counter {
    font-variant-numeric: tabular-nums;
  }

  /* Enhanced Prose Styling */
  .article-content.font-large {
    font-size: 1.25rem;
  }

  .article-content.font-small {
    font-size: 0.95rem;
  }

  /* Reading Progress */
  #reading-progress {
    transition: width 0.1s ease-out;
  }

  /* Floating Action Buttons */
  .fixed {
    z-index: 40;
  }

  /* Print Styles */
  @media print {
    .fixed {
      display: none !important;
    }
    
    nav {
      display: none !important;
    }
    
    .no-print {
      display: none !important;
    }
  }

  /* Responsive Adjustments */
  @media (max-width: 768px) {
    .fixed.right-6 {
      right: 1rem;
      top: auto;
      bottom: 2rem;
      transform: none;
      flex-direction: row;
      gap: 1rem;
    }
    
    .fixed .space-y-4 {
      display: flex;
      gap: 1rem;
    }
  }

  /* Accessibility */
  .focus-visible:focus {
    outline: 2px solid #3b82f6;
    outline-offset: 2px;
  }

  /* Reduced Motion */
  @media (prefers-reduced-motion: reduce) {
    .animate-fade-in-up,
    .animate-expand-width,
    .animate-float,
    .animate-spin-slow {
      animation: none;
    }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    // Reading Progress Bar
    function updateReadingProgress() {
      const article = document.getElementById('article-content');
      const progressBar = document.getElementById('reading-progress');
      
      if (!article || !progressBar) return;
      
      const articleRect = article.getBoundingClientRect();
      const windowHeight = window.innerHeight;
      const articleHeight = article.offsetHeight;
      const articleTop = article.offsetTop;
      
      const scrollTop = window.pageYOffset;
      const start = articleTop - windowHeight;
      const end = articleTop + articleHeight;
      
      if (scrollTop <= start) {
        progressBar.style.width = '0%';
      } else if (scrollTop >= end) {
        progressBar.style.width = '100%';
      } else {
        const progress = ((scrollTop - start) / (end - start)) * 100;
        progressBar.style.width = Math.min(100, Math.max(0, progress)) + '%';
      }
    }

    // Font Size Toggle
    let fontSize = 'normal';
    const fontSizeBtn = document.getElementById('font-size-btn');
    const articleContent = document.getElementById('article-content');
    
    if (fontSizeBtn && articleContent) {
      fontSizeBtn.addEventListener('click', () => {
        if (fontSize === 'normal') {
          fontSize = 'large';
          articleContent.classList.add('font-large');
          articleContent.classList.remove('font-small');
        } else if (fontSize === 'large') {
          fontSize = 'small';
          articleContent.classList.add('font-small');
          articleContent.classList.remove('font-large');
        } else {
          fontSize = 'normal';
          articleContent.classList.remove('font-large', 'font-small');
        }
      });
    }

    // Share Functionality
    const shareBtn = document.querySelector('button[class*="group relative w-12 h-12"]');
    if (shareBtn) {
      shareBtn.addEventListener('click', async () => {
        if (navigator.share) {
          try {
            await navigator.share({
              title: document.title,
              text: document.querySelector('meta[name="description"]')?.content || '',
              url: window.location.href
            });
          } catch (err) {
            console.log('Error sharing:', err);
          }
        } else {
          // Fallback - copy to clipboard
          navigator.clipboard.writeText(window.location.href).then(() => {
            // Show success message
            const originalHTML = shareBtn.innerHTML;
            shareBtn.innerHTML = '<svg class="w-5 h-5 text-green-600" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>';
            setTimeout(() => {
              shareBtn.innerHTML = originalHTML;
            }, 2000);
          });
        }
      });
    }

    // Print Functionality
    const printBtn = document.querySelectorAll('button')[1]; // Second button
    if (printBtn) {
      printBtn.addEventListener('click', () => {
        window.print();
      });
    }

    // Counter Animation
    function animateCounters() {
      const counters = document.querySelectorAll('.counter');
      
      counters.forEach(counter => {
        const target = parseInt(counter.getAttribute('data-target'));
        const count = +counter.innerText;
        
        const increment = target / 100;
        
        if (count < target) {
          counter.innerText = Math.ceil(count + increment);
          setTimeout(() => animateCounters(), 30);
        } else {
          counter.innerText = target;
        }
      });
    }

    // Intersection Observer for animations
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          if (entry.target.classList.contains('counter')) {
            setTimeout(() => animateCounters(), 500);
          }
        }
      });
    }, observerOptions);

    // Observe counters
    const counters = document.querySelectorAll('.counter');
    counters.forEach(counter => observer.observe(counter));

    // Smooth scroll for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });

    // Add scroll listener
    window.addEventListener('scroll', updateReadingProgress);
    
    // Initial call
    updateReadingProgress();
  });
</script>